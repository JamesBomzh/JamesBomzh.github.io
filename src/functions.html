<!DOCTYPE html>
<html lang="ru-RU">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <title>Функции и оператор возврата return</title>
</head>

<body>
<div class="t_menu">
    <ol class="t_ol">
        <li class="t_li">
            <a href="index.html">Введение в языки программирования C и С++</a>
        </li>
        <li class="t_li">
            <a href="structure.html">Структура программ</a>
        </li>
        <li class="t_li">
            <a href="variables.html">Переменные, Инициализация и Присваивание</a>
        </li>
        <li class="t_li">
            <a href="cout_cin.html">cout, cin и endl</a>
        </li>
        <li class="t_li">
            <a href="functions.html">Функции и оператор возврата return</a>
            <ol class="t_ol">
                <li class="t_li"><a href="#functions">Функции</a></li>
                <li class="t_li"><a href="#returning">Возвращаемые значения</a></li>
                <li class="t_li"><a href="#void">Тип возврата void</a></li>
                <li class="t_li"><a href="#main">Возврат значений функцией main()</a></li>
                <li class="t_li"><a href="#reuse">Повторное использование функций</a></li>
                <li class="t_li"><a href="#nested">Вложенные функции</a></li>
            </ol>
        </li>
        <li class="t_li">
            <a href="parameters.html">Параметры и аргументы функций</a>
        </li>
        <li class="t_li">
            <a href="key_words.html">Ключевые слова и идентификаторы</a>
        </li>
        <li class="t_li">
            <a href="operators.html">Операторы</a>
        </li>
        <li class="t_li">
            <a href="prototypes.html">Прототип функции и Предварительное объявление</a>
        </li>
        <li class="t_li">
            <a href="headers.html">Многофайловые программы и заголовочные файлы</a>
        </li>
        <li class="t_li">
            <a href="pragma.html">Header guards и #pragma once</a>
        </li>
        <li class="t_li">
            <a href="namespaces_conflict.html">Конфликт имен и std namespace</a>
        </li>
        <li class="t_li">
            <a href="test.html">Итоговый тест</a>
        </li>
    </ol>
</div>

<div class="page_style">
    <h1>Функции и оператор возврата return</h1>
    <h2 id="functions">Функции</h2>
    <div>
        <p><b>Функция</b> — это последовательность стейтментов для выполнения определенного задания. Часто ваши
            программы будут прерывать выполнение одних функций ради выполнения других. Вы делаете аналогичные вещи в
            реальной жизни постоянно. Например, вы читаете книгу и вспомнили, что должны были сделать телефонный звонок.
            Вы оставляете закладку в своей книге, берете телефон и набираете номер. После того, как вы уже поговорили,
            вы возвращаетесь к чтению: к той странице, на которой остановились.</p>
        <p>Программы на языке C++ работают похожим образом. Иногда, когда программа выполняет код, она может столкнуться
            с вызовом функции. <b>Вызов функции</b> — это выражение, которое указывает процессору прервать выполнение
            текущей функции и приступить к выполнению другой функции. Процессор «оставляет закладку» в текущей точке
            выполнения, а затем выполняет вызываемую функцию. Когда выполнение вызываемой функции завершено, процессор
            возвращается к закладке и возобновляет выполнение прерванной функции.</p>
        <p>Функция, в которой находится вызов, называется <b>caller</b>, а функция, которую вызывают — <b>вызываемая
            функция</b>, например:</p>
        <div class="img">
            <img src="img/5/func1.png" alt="func1"/>
        </div>
        <p>Результат выполнения программы:</p>
        <p><i>Starting main()</i></p>
        <p><i> In doPrint()</i></p>
        <p><i>Ending main()</i></p>
        <p>Эта программа начинает выполнение с первой строки функции main(), где выводится на экран следующая строка:
            Starting main(). Вторая строка функции main() вызывает функцию doPrint(). На этом этапе выполнение
            стейтментов в функции main() приостанавливается и процессор переходит к выполнению стейтментов внутри
            функции doPrint(). Первая (и единственная) строка в doPrint() выводит текст In doPrint(). Когда процессор
            завершает выполнение doPrint(), он возвращается обратно в main() к той точке, на которой остановился.
            Следовательно, следующим стейтментом является вывод строки Ending main().</p>
        <p>Обратите внимание, для вызова функции нужно указать её имя и список параметров в круглых скобках (). В
            примере, приведенном выше, параметры не используются, поэтому круглые скобки пусты. Мы детально поговорим о
            параметрах функций на следующем уроке.</p>
        <p class="attention">Не забывайте указывать круглые скобки () при вызове функций.</p>
    </div>

    <h2 id="returning">Возвращаемые значения</h2>
    <div>
        <p>Когда функция main() завершает свое выполнение, она возвращает целочисленное значение обратно в операционную
            систему, используя <b>оператор return</b>.</p>
        <p>Функции, которые мы пишем, также могут возвращать значения. Для этого нужно указать <b>тип возвращаемого
            значения</b> (или «тип возврата»). Он указывается при объявлении функции, перед её именем. Обратите
            внимание, тип возврата не указывает, какое именно значение будет возвращаться. Он указывает только тип этого
            значения.</p>
        <p>Затем, внутри вызываемой функции, мы используем оператор return, чтобы указать <b>возвращаемое значение</b> —
            какое именно значение будет возвращаться в caller.</p>
        <p>Рассмотрим простую функцию, которая возвращает целочисленное значение:</p>
        <div class="img">
            <img src="img/5/func2.png" alt="func2"/>
        </div>
        <p>Результат выполнения программы:</p>
        <p><i>7</i></p>
        <p><i>10</i></p>
        <p>Разберемся детально:</p>
        <ul>
            <li>Первый вызов функции return7() возвращает 7 обратно в caller, которое затем передается в std::cout для
                вывода.
            </li>
            <li>Второй вызов функции return7() опять возвращает 7 обратно в caller. Выражение 7 + 3 имеет результат 10,
                который затем выводится на экран.
            </li>
            <li>Третий вызов функции return7() опять возвращает 7 обратно в caller. Однако функция main() ничего с ним
                не делает, поэтому ничего и не происходит (возвращаемое значение игнорируется).
            </li>
        </ul>
        <p class="attention">Возвращаемые значения не выводятся на экран, если их не передать объекту std::cout. В
            последнем вызове функции return7() значение не отправляется в std::cout, поэтому ничего и не происходит.</p>
    </div>

    <h2 id="void">Тип возврата void</h2>
    <div>
        <p>Функции могут и не возвращать значения. Чтобы сообщить компилятору, что функция не возвращает значение, нужно
            использовать тип возврата void. Взглянем еще раз на функцию doPrint() из вышеприведенного примера:</p>
        <div class="img">
            <img src="img/5/func3.png" alt="func3"/>
        </div>
        <p>Эта функция имеет тип возврата void, который означает, что функция не возвращает значения. Поскольку значение
            не возвращается, то и оператор return не требуется.</p>
    </div>

    <h2 id="main">Возврат значений функцией main()</h2>
    <div>
        <p>Теперь у вас есть понимание того, как работает функция main(). Когда программа выполняется, операционная
            система делает вызов функции main() и начинается её выполнение. Стейтменты в main() выполняются
            последовательно. В конце функция main() возвращает целочисленное значение (обычно 0) обратно в операционную
            систему. Поэтому main() объявляется как <i>int main()</i>.</p>
        <p>Почему нужно возвращать значения обратно в операционную систему? Дело в том, что возвращаемое значение
            функции main() является <b>кодом состояния</b>, который сообщает операционной системе об успешном или
            неудачном выполнении программы. Обычно, возвращаемое значение 0 (ноль) означает что всё прошло успешно,
            тогда как любое другое значение означает неудачу/ошибку.</p>
        <p>Обратите внимание, по стандартам языка C++ функция main() должна возвращать целочисленное значение. Однако,
            если вы не укажете return в конце функции main(), компилятор возвратит 0 автоматически, если никаких ошибок
            не будет. Но рекомендуется указывать return в конце функции main() и использовать тип возврата int для
            функции main().</p>
    </div>

    <h2 id="reuse">Повторное использование функций</h2>
    <div>
        <p>Одну и ту же функцию можно вызывать несколько раз, даже в разных программах, что очень полезно:</p>
        <div class="img">
            <img src="img/5/func4.png" alt="func4"/>
        </div>
        <p>Результат выполнения программы:</p>
        <p><i>Enter an integer: 4</i></p>
        <p><i>Enter an integer: 9</i></p>
        <p><i>4 + 9 = 13</i></p>
        <p>Здесь main() прерывается 2 раза. Обратите внимание, в обоих случаях, полученное пользовательское значение
            сохраняется в переменной <i>x</i>, а затем передается обратно в main() с помощью return, где присваивается
            переменной <i>a</i> или <b>b</b>!</p>
        <p>Также main() не является единственной функцией, которая может вызывать другие функции. Любая функция может
            вызывать любую другую функцию!</p>
    </div>

    <h2 id="nested">Вложенные функции</h2>
    <div>
        <p>В языке С++ одни функции не могут быть объявлены внутри других функций (т.е. быть вложенными). Следующий код
            вызовет ошибку компиляции:</p>
        <div class="img">
            <img src="img/5/func5.png" alt="func5"/>
        </div>
    </div>

    <button style="display: inline-block; float: right;" onclick="document.location='parameters.html'">Следующий урок
    </button>
    <button style="display: inline-block; float: left;" onclick="document.location='cout_cin.html'">Предыдущий урок
    </button>
</div>
</body>
</html>